$.fn.calendar=function(){this.each(function(){function e(){function e(){var e=new Date;e.setMonth(e.getMonth()+o);var n=e.getFullYear(),r=e.getMonth();t.innerHTML=n+"年"+(r+1)+"月";t.innerHTML;a.innerHTML="";var e=new Date;e.setMonth(e.getMonth()+o),e.setDate(1);var l=e.getDay();0==l&&(l=7);for(var c=0;l-1>c;c++){var s=document.createElement("li");a.appendChild(s),s.style.background="none"}var e=new Date;e.setMonth(e.getMonth()+o),e.setMonth(e.getMonth()+1,1),e.setDate(0);for(var i=e.getDate(),c=0;i>c;c++){var s=document.createElement("li");s.innerHTML=c+1,a.appendChild(s)}var g=a.children,e=new Date;if(e.setMonth(e.getMonth()+o),0==o)for(var c=0;c<g.length;c++)(c%7==5||c%7==6||g[c].innerHTML==e.getDate())&&(g[c].className="calendarBox_week",g[c].innerHTML==e.getDate()&&(g[c].innerHTML="今天")),g[c].innerHTML<e.getDate()&&(g[c].className="calendarBox_past");else if(0>o)for(var c=0;c<g.length;c++)g[c].className="calendarBox_past";else for(var c=0;c<g.length;c++)(c%7==5||c%7==6)&&(g[c].className="calendarBox_week")}var t=n.getElementsByTagName("span")[0],a=n.getElementsByTagName("ul")[0],r=n.getElementsByClassName("calendarBox_prev")[0],l=n.getElementsByClassName("calendarBox_next")[0],o=0;r.onclick=function(n){var t=n||event;o--,e(),t.cancelBubble=!0},l.onclick=function(n){var t=n||event;o++,e(),t.cancelBubble=!0},e()}var n=this;e()})};